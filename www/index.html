<!DOCTYPE html>
<html>
<head>
  <title>Todo App</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body{opacity:0;}
  </style>
</head>
<body data-bind="css: {'ready': true, 'loggedin': isLoggedIn}">
  <!-- Now we are in the context of the outermost model (the App instance) -->

  <div class="loginbox" data-bind="with: loginBox">
    <h1>Login</h1>
    <p>Please enter your user name and password to log in</p>
    <form data-bind="submit: $parent.evts.onLoginSubmit">
      <input type="text" placeholder="User name" maxlength="64" data-bind="textInput: username"/>
      <input type="password" placeholder="Password" maxlength="64" data-bind="textInput: password"/>
      <input type="submit" value="Login" data-bind="disable: !hasTyped()"/>
    </form>
  </div>

  <div class="list-manager">
    <div class="lists-container">
      <button class="new-list" data-bind="click: evts.onNewListClick">
        <i class="material-icons">add_circle</i>
      </button>

      <ul class="lists" data-bind="foreach: lists">
        <!-- Now we are in the context of a single TodoList instance -->
        <li data-bind="css: {'open': $data === $parent.openList()}">
          <button class="material-icons--after" data-bind="click: $parent.evts.onListClick,
            attr: {'data-count': todoCount}" title="Ctrl+Click to remove, Ctrl+Shift+Click to force remove">
            <span data-bind="text: title"></span>
          </button>
        </li>
      </ul>
    </div>

    <div class="list-container" data-bind="with: openList">
      <!-- Now we are in the context of a single TodoList instance -->
      <input type="text" placeholder="Title" data-bind="textInput: title,
        click: evts.onTitleClick" title="Ctrl+Click to toggle done on all items"/>
      <ul class="todos">
        <!-- ko foreach: todos -->
        <li class="todo" data-bind="css: {'done': done}, click: evts.onTodoClick" title="Ctrl+Click to toggle done">
          <input type="checkbox" data-bind="checked: done"/>
          <input type="text" data-bind="textInput: text"/>
          <button class="remove" data-bind="click: $parent.evts.onRemoveTodoClick">
            <i class="material-icons">remove_circle_outline</i>
          </button>
        </li>
        <!-- /ko -->
        <li class="todo new-todo" data-bind="with: newTodo">
          <input type="text" placeholder="New todo item" data-bind="event: {keydown: $parent.evts.onNewTodoTextKeyDown},
            textInput: text"/>
        </li>
      </ul>
    </div>
  </div>

  <script src="bundle.js"></script>
</body>
</html>